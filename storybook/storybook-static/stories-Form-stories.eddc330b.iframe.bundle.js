/*! For license information please see stories-Form-stories.eddc330b.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkmy_test_app=self.webpackChunkmy_test_app||[]).push([[449],{"./src/stories/Form.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SelectDropdownField:()=>SelectDropdownField,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Form_stories});var react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),__spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},AwesomeDropdown=function(_a){var _b=_a.data,data=void 0===_b?[]:_b,setSelectedOptionsResult=_a.setSelectedOptionsResult,_c=_a.filterEnabled,filterEnabled=void 0===_c||_c,_d=_a.multipleSelect,multipleSelect=void 0===_d||_d,_e=_a.outlined,outlined=void 0===_e||_e,_f=_a.shorterList,shorterList=void 0===_f||_f,_g=_a.highlightedText,highlightedText=void 0===_g||_g,_h=_a.renderOption,renderOption=void 0!==_h&&_h,_j=_a.renderOptionComponent,renderOptionComponent=void 0===_j?null:_j,_k=_a.portal,portal=void 0!==_k&&_k,_l=_a.portalTarget,portalTarget=void 0===_l?null:_l,_m=(0,react.useState)(""),search=_m[0],setSearch=_m[1],_o=(0,react.useState)(!1),dropdownVisible=_o[0],setDropdownVisible=_o[1],_p=(0,react.useState)([]),selectedOptions=_p[0],setSelectedOptions=_p[1],_q=(0,react.useState)(1),zIndex=_q[0],setZIndex=_q[1],searchContainerRef=(0,react.useRef)(null);(0,react.useEffect)((function(){var link=document.createElement("link");link.rel="stylesheet",link.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",document.head.appendChild(link)}),[]),(0,react.useEffect)((function(){var newMaxZIndex=Array.from(document.querySelectorAll("body *")).map((function(el){return parseFloat(window.getComputedStyle(el).zIndex)})).filter((function(zIndex){return!isNaN(zIndex)})).reduce((function(max,zIndex){return Math.max(max,zIndex)}),0)+1;setZIndex(newMaxZIndex)}),[]),(0,react.useEffect)((function(){setSelectedOptionsResult(selectedOptions)}),[selectedOptions,setSelectedOptionsResult]);var handleClickOutside=function(event){searchContainerRef.current&&!searchContainerRef.current.contains(event.target)&&setDropdownVisible(!1)};(0,react.useEffect)((function(){return document.addEventListener("mousedown",handleClickOutside),function(){document.removeEventListener("mousedown",handleClickOutside)}}),[]);var highlightText=function(text){if(!search||!filterEnabled||!highlightedText)return text;var regex=new RegExp("(".concat(search,")"),"gi");return text.split(regex).map((function(part,index){return regex.test(part)?react.createElement("span",{key:index,className:"highlight"},part):part}))},dropdownContent=react.createElement("div",{className:"search-container",ref:searchContainerRef},react.createElement("div",{className:"dropdown"},react.createElement("div",{className:"dropdown-trigger",style:{backgroundColor:outlined?"#fff":"#d1d3d5"},onClick:function(){setDropdownVisible(!0)}},react.createElement("div",{className:"selected-options-container"},selectedOptions.map((function(option,index){return react.createElement("div",{key:index,className:"selected-option"},option.text,react.createElement("i",{className:"fa-regular fa-circle-xmark remove-icon",onClick:function(e){e.stopPropagation(),function(option){setSelectedOptions(selectedOptions.filter((function(o){return o.id!==option.id})))}(option)}}))}))),react.createElement("i",{className:"fas fa-chevron-down dropdown-icon"})),dropdownVisible&&react.createElement("div",{className:"dropdown-list",style:{zIndex}},filterEnabled&&react.createElement("div",{className:"search-input-container"},react.createElement("input",{type:"text",id:"search-input",className:"search-input",value:search,onChange:function(e){setSearch(e.target.value)}}),react.createElement("i",{className:"fas fa-search search-icon"}),search&&react.createElement("i",{className:"fas fa-circle-xmark clear-icon",onClick:function(){setSearch("")}})),data.filter((function(option){return!shorterList||option.text.toLowerCase().includes(search.toLowerCase())})).map((function(option,index){return react.createElement("div",{key:index,className:"dropdown-item ".concat(selectedOptions.some((function(o){return o.id==option.id}))?"selected":""),onClick:function(){return function(option){multipleSelect?selectedOptions.some((function(o){return o.id==option.id}))?setSelectedOptions(selectedOptions.filter((function(o){return o.id!==option.id}))):setSelectedOptions(__spreadArray(__spreadArray([],selectedOptions,!0),[option],!1)):setSelectedOptions([option]),setDropdownVisible(!1),setSearch("")}(option)}},renderOption&&renderOptionComponent?renderOptionComponent(option,highlightText):highlightText(option.text))})))));return portal&&portalTarget?(0,react_dom.createPortal)(dropdownContent,portalTarget):dropdownContent},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const renderOptionComponent=(option,highlightText)=>(0,jsx_runtime.jsxs)("div",{className:"render-option",children:[(0,jsx_runtime.jsx)("i",{className:null==option?void 0:option.icon,style:{marginRight:"8px"}}),(0,jsx_runtime.jsx)("span",{children:highlightText(null==option?void 0:option.text)})]}),Form=_ref=>{let{data=[],filterEnabled=!0,multipleSelect=!0,outlined=!0,shorterList=!0,highlightedText=!0,renderOption=!1,portal=!1,zIndex=!1}=_ref;const[selectedOptions,setSelectedOptions]=(0,react.useState)([]),portalTargetRef=(0,react.useRef)(null);return(0,react.useEffect)((()=>{console.log("result:",selectedOptions)}),[selectedOptions]),(0,react.useEffect)((()=>{portalTargetRef.current=document.getElementById("dropdown-portal")}),[]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"container",children:[(0,jsx_runtime.jsx)("label",{className:"label",style:{display:portal?"none":"inherit"},children:"Label"}),(0,jsx_runtime.jsxs)("div",{className:"combobox-container",children:[(0,jsx_runtime.jsx)(AwesomeDropdown,{data,setSelectedOptionsResult:setSelectedOptions,filterEnabled,multipleSelect,outlined,shorterList,highlightedText,renderOption,renderOptionComponent,portal,portalTarget:portalTargetRef.current}),(0,jsx_runtime.jsx)("h3",{className:"portal",style:{display:portal?"inherit":"none"},children:"Portal"}),(0,jsx_runtime.jsxs)("div",{id:"dropdown-portal",style:{display:portal?"inherit":"none"},children:[(0,jsx_runtime.jsx)("label",{className:"label",style:{color:"#eee"},children:"Label"}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("br",{})]})]})]}),(0,jsx_runtime.jsx)("div",{className:"higher-z-index",style:{display:zIndex?"inherit":"none"},children:"This container has a higher than 1000 z-index (1100)."})]})};Form.defaultProps={data:[],filterEnabled:!0,multipleSelect:!0,outlined:!0,shorterList:!0,highlightedText:!0,renderOption:!1,portal:!1,zIndex:!1},Form.__docgenInfo={description:"",methods:[],displayName:"Form",props:{data:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1},filterEnabled:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},multipleSelect:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},outlined:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},shorterList:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},highlightedText:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},renderOption:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},portal:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},zIndex:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1}}};const Form_stories={title:"Form",component:Form},SelectDropdownField={args:{data:[{id:1,text:"Option 1",icon:"fas fa-heart"},{id:2,text:"Option with icon",icon:"fas fa-music"},{id:3,text:"Long Long Option 3",icon:"fas fa-film"},{id:4,text:"Long Long Long Option 4",icon:"fas fa-star"},{id:5,text:"Long Long Long Long Option 5",icon:"fas fa-road"},{id:6,text:"Long Long Long Long Long Option 6",icon:"fas fa-flag"}],filterEnabled:!0,multipleSelect:!0,outlined:!0,shorterList:!0,highlightedText:!0,renderOption:!1,portal:!1,zIndex:!1}},__namedExportsOrder=["SelectDropdownField"];SelectDropdownField.parameters={...SelectDropdownField.parameters,docs:{...SelectDropdownField.parameters?.docs,source:{originalSource:"{\n  args: {\n    data: [{\n      id: 1,\n      text: 'Option 1',\n      icon: 'fas fa-heart'\n    }, {\n      id: 2,\n      text: 'Option with icon',\n      icon: 'fas fa-music'\n    }, {\n      id: 3,\n      text: 'Long Long Option 3',\n      icon: 'fas fa-film'\n    }, {\n      id: 4,\n      text: 'Long Long Long Option 4',\n      icon: 'fas fa-star'\n    }, {\n      id: 5,\n      text: 'Long Long Long Long Option 5',\n      icon: 'fas fa-road'\n    }, {\n      id: 6,\n      text: 'Long Long Long Long Long Option 6',\n      icon: 'fas fa-flag'\n    }],\n    filterEnabled: true,\n    multipleSelect: true,\n    outlined: true,\n    shorterList: true,\n    highlightedText: true,\n    renderOption: false,\n    portal: false,\n    zIndex: false\n  }\n}",...SelectDropdownField.parameters?.docs?.source}}}},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l,exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);